<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Linux VPS 搭建tomcat 6 基于centos 7 | Bin&#39;s Blog | Good Lucky.</title>

  
  <meta name="author" content="Bob Liao">
  

  
  <meta name="description" content="一个戳逼的日记本。">
  

  
  
  <meta name="keywords" content="linux,tomact,centos">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Linux VPS 搭建tomcat 6 基于centos 7"/>

  <meta property="og:site_name" content="Bin&#39;s Blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Bin&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Bin&#39;s Blog</a>
    </h1>
    <p class="site-description">Good Lucky.</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
        <li><a href="/links">Links</a></li>
      
        <li><a href="/resume">About</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Linux VPS 搭建tomcat 6 基于centos 7</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/07/24/install-tomcat6-to-centos7.html" rel="bookmark">
        <time class="entry-date published" datetime="2016-07-23T18:54:24.000Z">
          2016-07-24
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <blockquote>
<p>因为部门老大的需要，所以部门老大让我在公司的服务器上面搭建一个linux 服务器。并且安装<code>tomcat 6</code>.其原因不详，我猜可能是他接的外水吧。</p>
</blockquote>
<a id="more"></a>
<h1 id="安装Linux"><a href="#安装Linux" class="headerlink" title="安装Linux"></a>安装Linux</h1><h2 id="创建一个虚拟机"><a href="#创建一个虚拟机" class="headerlink" title="创建一个虚拟机"></a>创建一个虚拟机</h2><p>　　公司是一台VPS主服务器，里面的虚拟机采用<code>Hyper-v</code>的软件来开通VPS，首先是类似<code>VMware</code>一样创建的一台空虚拟机，这里的配置使用的是双核，1GB内存，40GB磁盘。<br>　　内存启用了<code>Hyper-v</code>的动态内存，启动内存为1024MB，最小内存为512M，最大内存为1024MB，压缩比为百分之20。</p>
<h3 id="下载centos7镜像文件"><a href="#下载centos7镜像文件" class="headerlink" title="下载centos7镜像文件"></a>下载centos7镜像文件</h3><p>　　在<a href="https://www.centos.org/" target="_blank" rel="external">centos的官网</a>直接通过谷歌浏览器下载，速度很快，10MB每秒。因为公司的服务器本身是一个美国VPS宿主机。<br>　　我选择下载的<a href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso" target="_blank" rel="external">CentOS-7-x86_64-Minimal-1511.iso</a>。</p>
<h3 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h3><p>　　1. 编辑该虚拟机的配置，使其的光驱设置为刚才下载的iso文件。<br>　　2. 启动虚拟机，并且使用Hyper-v连接到该虚拟机。<br>　　3. 进入引导界面，选择第一步，开始安装。<br>　　4. 等待加载图形界面<br>　　5. 配置需要安装的磁盘和安全性、时区、语言等参数<br>　　6. 点击开始安装，会在完成安装后要求你设置root密码和新建用户（可以选择不新建用户）。<br>　　7. 我新建一个叫做bob的用户，并且将该用户设置为系统管理员。<br>　　8. 完成安装，系统重启。</p>
<h2 id="配置Linux"><a href="#配置Linux" class="headerlink" title="配置Linux"></a>配置Linux</h2><h3 id="网络设置"><a href="#网络设置" class="headerlink" title="网络设置"></a>网络设置</h3><p>　　进入系统后，第一个设置是修改网卡配置。<br>　　因为该服务器是需要接入互联网的，所以使用的是一个独立IP，通过编辑ifcfg-eth0可以实现静态网络连接。而且这里因为是最小化安装，所以很多的编辑器自带是没有安装的，能够使用的是<code>VI</code>。而且我使用的是bob身份登陆的。不是root身份还需要使用sudo命令。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0</div></pre></td></tr></table></figure></p>
<p>　　修改如下内容：</p>
<h1 id="其他已经存在的参数不需要删除"><a href="#其他已经存在的参数不需要删除" class="headerlink" title="其他已经存在的参数不需要删除"></a>其他已经存在的参数不需要删除</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BOOTPROTO=<span class="string">"static"</span> <span class="comment">#dhcp改为static   </span></div><div class="line">ONBOOT=<span class="string">"yes"</span> <span class="comment">#开机启用本配置  </span></div><div class="line">IPADDR=XXX.XXX.XXX.XXX <span class="comment">#静态IP  </span></div><div class="line">GATEWAY=XXX.XXX.XXX.XXX <span class="comment">#默认网关  </span></div><div class="line">NETMASK=255.255.255.248 <span class="comment">#子网掩码  </span></div><div class="line">DNS1=8.8.8.8 <span class="comment">#DNS 配置  </span></div><div class="line">DNS2=8.8.4.4</div></pre></td></tr></table></figure>
<p>保存文件后重启网络服务：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service network restart</div></pre></td></tr></table></figure></p>
<h1 id="或者用"><a href="#或者用" class="headerlink" title="或者用"></a>或者用</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo systemctl restart network.serivce</div></pre></td></tr></table></figure>
<p>使用<code>ip addr</code>查看效果。</p>
<h3 id="更新软件仓库和系统"><a href="#更新软件仓库和系统" class="headerlink" title="更新软件仓库和系统"></a>更新软件仓库和系统</h3><p>　　这个使用的是一个很简单的命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum update</div></pre></td></tr></table></figure></p>
<p>　　等待系统更新完成。这时候通过<code>Hyper-v</code>生成一个快照，以免后面的错误操作方便可以随时还原。</p>
<h1 id="安装tomcat"><a href="#安装tomcat" class="headerlink" title="安装tomcat　　"></a>安装tomcat　　</h1><h2 id="安装jdk"><a href="#安装jdk" class="headerlink" title="安装jdk"></a>安装jdk</h2><p>　　最小化安装centos是没有包含任何jdk存在的，包括openjdk也是没有的，所以这里可以直接去官网下载最新的Jdk.</p>
<h3 id="安装Wget"><a href="#安装Wget" class="headerlink" title="安装Wget"></a>安装Wget</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo yum install wget</div></pre></td></tr></table></figure>
<h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><p>　　在浏览器中找到jdk的官网和正确的版本下载地址，这里选用的是 <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="external">Java SE Development Kit 8u101</a>,找到<code>jdk-8u101-linux-x64.rpm</code>复制其下载地址，使用以下命令下载到centos中：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://download.oracle.com/otn-pub/java/jdk/8u101-b13/jdk-8u101-linux-x64.rpm</div></pre></td></tr></table></figure></p>
<p>　　下载完成后，使用rpm开始安装：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo rpm -ivh jdk-8u101-linux-x64.rpm</div></pre></td></tr></table></figure></p>
<h2 id="安装tomcat6"><a href="#安装tomcat6" class="headerlink" title="安装tomcat6"></a>安装tomcat6</h2><h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">wget http://mirrors.hust.edu.cn/apache/tomcat/tomcat-6/v6.0.45/bin/apache-tomcat-6.0.45.tar.gz</div></pre></td></tr></table></figure>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>　　首先解压到当前目录，使用<code>tar</code>命令解压到下载的目录。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -zxvf apache-tomcat-6.0.45.tar.gz</div></pre></td></tr></table></figure></p>
<p>　　然后移动到根目录下，这使用root权限移动到跟目录，并且重命名为tomcat6。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo mv apache-tomcat-6.0.45 /tomcat6</div></pre></td></tr></table></figure></p>
<h2 id="启动tomcat6"><a href="#启动tomcat6" class="headerlink" title="启动tomcat6"></a>启动tomcat6</h2><p>　　启动tomcat6比较容易，直接移动到tomcat目录下的Bin文件夹。里面有启动脚本，使用普通用户权限执行即可。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /tomcat6/bin</div><div class="line">./startup</div></pre></td></tr></table></figure></p>
<p>　　这时候应该可以看到提示成功运行的信息。</p>
<h2 id="访问tomcat6"><a href="#访问tomcat6" class="headerlink" title="访问tomcat6"></a>访问tomcat6</h2><p>　　访问tomcat6默认的端口是8080。使用<code>XXX.XXX.XXX.XXX:8080</code>就可以看到访问效果了。不需要关闭<code>iptables</code>。</p>
<h1 id="安装完成后。"><a href="#安装完成后。" class="headerlink" title="安装完成后。"></a>安装完成后。</h1><p>　　啥也不会，也不会写jsp代码。发现没什么卵用。</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Linux/">Linux</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/linux/">linux</a><a href="/tags/tomact/">tomact</a><a href="/tags/centos/">centos</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'bobslogs';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>





    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 Bob Liao
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>